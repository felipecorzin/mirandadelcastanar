"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1546],{1546:(_,m,i)=>{i.r(m),i.d(m,{AccountUpdatePageModule:()=>P});var g=i(6895),u=i(433),n=i(5133),p=i(5017),l=i(655),h=i(6388),t=i(4650),d=i(9846),v=i(3071);function U(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("tap",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.selectPhoto())}),t.qZA()}}function f(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"ion-img",14)(1,"ion-input",8),t.NdJ("ngModelChange",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.user.avatar=r)}),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("src",e.user.avatar),t.xp6(1),t.Q6J("ngModel",e.user.avatar)}}const A=[{path:"",component:(()=>{class o{constructor(e,a,r,s){this.route=e,this.navCtrl=a,this.uiService=r,this.userService=s,this.user={id:"",avatar:"",name:"",phone:"",city:"",lat:0,lng:0},this.shouldAcive=!0,this.shouldGeolocation=!1}ngOnInit(){this.loadUser(this.route.snapshot.params.id)}regresar(){this.navCtrl.navigateBack("/tabs/account")}loadUser(e){this.userService.getUser(e).subscribe(a=>{this.user=a,console.log(a)})}selectPhoto(){return(0,l.mG)(this,void 0,void 0,function*(){const e=yield h.V1.getPhoto({quality:75,width:400,height:400,allowEditing:!1,source:h.oK.Prompt,resultType:h.dk.DataUrl});this.isSelected=!0,this.user.avatar=e.dataUrl})}getLocation(){this.shouldGeolocation&&navigator.geolocation.getCurrentPosition(e=>{this.user.lat=e.coords.latitude,this.user.lng=e.coords.longitude,console.log(this.user.lat,this.user.lng)})}accountUpdate(){this.userService.updateUser(this.user.id,this.user).subscribe(e=>{console.log(e),this.regresar(),this.uiService.presentToast("Updated user")},e=>{console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(n.SH),t.Y36(d.F),t.Y36(v.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-account-update"]],decls:33,vars:6,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["color","light","defaultHref","/tabs/account"],["id","img",3,"tap",4,"ngIf"],["id","avatar",3,"src",4,"ngIf"],["lines","none"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","ionChange"],["expand","block","shape","round",1,"miBoton",3,"tap"],["md","create-sharp","slot","end","color","light"],["id","img",3,"tap"],["id","avatar",3,"src"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button",3),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," AccountUpdate "),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-list"),t.YNc(8,U,1,0,"div",4),t.YNc(9,f,2,2,"ion-img",5),t.TgZ(10,"ion-item",6)(11,"ion-label",7)(12,"b"),t._uU(13,"Name"),t.qZA()(),t.TgZ(14,"ion-input",8),t.NdJ("ngModelChange",function(s){return a.user.name=s}),t.qZA()(),t.TgZ(15,"ion-item",6)(16,"ion-label",7)(17,"b"),t._uU(18,"Phone"),t.qZA()(),t.TgZ(19,"ion-input",9),t.NdJ("ngModelChange",function(s){return a.user.phone=s}),t.qZA()(),t.TgZ(20,"ion-item",6)(21,"ion-label",7)(22,"b"),t._uU(23,"City"),t.qZA()(),t.TgZ(24,"ion-input",9),t.NdJ("ngModelChange",function(s){return a.user.city=s}),t.qZA()(),t.TgZ(25,"ion-item",6)(26,"ion-label")(27,"b"),t._uU(28,"Location User"),t.qZA()(),t.TgZ(29,"ion-toggle",10),t.NdJ("ngModelChange",function(s){return a.shouldGeolocation=s})("ionChange",function(){return a.getLocation()}),t.qZA()()(),t.TgZ(30,"ion-button",11),t.NdJ("tap",function(){return a.accountUpdate()}),t._uU(31," AccountUpdate "),t._UZ(32,"ion-icon",12),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("ngIf",!a.isSelected),t.xp6(1),t.Q6J("ngIf",a.isSelected),t.xp6(5),t.Q6J("ngModel",a.user.name),t.xp6(5),t.Q6J("ngModel",a.user.phone),t.xp6(5),t.Q6J("ngModel",a.user.city),t.xp6(5),t.Q6J("ngModel",a.shouldGeolocation))},dependencies:[g.O5,u.JJ,u.On,n.oU,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Xz,n.pK,n.Ie,n.Q$,n.q_,n.wd,n.ho,n.sr,n.w,n.j9,n.cs],styles:["#img[_ngcontent-%COMP%]{background:url(avatar.a873f6944a1bc18a.png);width:100px;height:100px;margin:0 auto}#avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(A),p.Bz]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,u.u5,n.Pc,M]}),o})()},9846:(_,m,i)=>{i.d(m,{F:()=>p});var g=i(655),u=i(4650),n=i(5133);let p=(()=>{class l{constructor(t,d){this.alertController=t,this.toastController=d}alertaInformativaLogin(t,d,v){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:t,subHeader:d,message:v,buttons:["OK"]})).present()})}alertaInformativa(t){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:t,buttons:["OK"]})).present()})}presentToast(t){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return l.\u0275fac=function(t){return new(t||l)(u.LFG(n.Br),u.LFG(n.yF))},l.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);