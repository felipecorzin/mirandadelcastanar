"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7018],{7018:(C,h,i)=>{i.r(h),i.d(h,{AccountPageModule:()=>y});var c=i(6895),m=i(433),n=i(5133),g=i(5017),u=i(655),_=i(1135),a=i(5819),t=i(4650),v=i(9846),f=i(3071);function U(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-toolbar",5)(1,"ion-buttons",6)(2,"ion-button",7),t.NdJ("tap",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.backButtonClickUser())}),t._UZ(3,"ion-icon",8),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"ion-title",10),t._uU(8," DeleteAccount "),t.qZA(),t.TgZ(9,"ion-buttons",11)(10,"ion-button",7),t.NdJ("tap",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.removeSelectedUser())}),t._UZ(11,"ion-icon",12),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,1,e.userItemCount))}}function A(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-toolbar",13)(1,"ion-title"),t._uU(2," Account "),t.qZA(),t.TgZ(3,"ion-buttons",11)(4,"ion-button",14),t.NdJ("tap",function(s){t.CHM(e);const d=t.oxw();return t.KtG(d.menu(s))}),t._UZ(5,"ion-icon",15),t.qZA()()()}}const b=function(o){return{"selected-user":o}};function Z(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item-sliding",16),t.NdJ("press",function(){const d=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.selectUser(d.id))}),t.TgZ(1,"ion-item",17)(2,"ion-thumbnail",6),t._UZ(3,"ion-img",18),t.qZA(),t.TgZ(4,"ion-label")(5,"h2")(6,"b"),t._uU(7),t.qZA()(),t.TgZ(8,"h3",19)(9,"b"),t._uU(10),t.ALo(11,"date"),t.qZA()()()(),t.TgZ(12,"ion-item-options",11)(13,"ion-item-option",20),t.NdJ("tap",function(){const d=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.accountDetail(d.id))}),t._UZ(14,"ion-icon",21),t.qZA(),t.TgZ(15,"ion-item-option",22),t.NdJ("tap",function(){const d=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.accountUpdate(d.id))}),t._UZ(16,"ion-icon",23),t.qZA()()()}if(2&o){const e=l.$implicit,r=t.oxw();t.Q6J("ngClass",t.VKq(7,b,r.selectedUser===e.id)),t.xp6(3),t.s9C("src",e.avatar),t.xp6(4),t.Oqu(e.name),t.xp6(3),t.Oqu(t.xi3(11,4,e.created,"short"))}}const x=[{path:"",component:(()=>{class o{constructor(e,r,s,d,p,P,M){this.router=e,this.cd=r,this.navCtrl=s,this.alertCtrl=d,this.popoverCtrl=p,this.uiService=P,this.userService=M,this.miranda=[],this.usuario={id:"",avatar:"",name:"",created:""},this.deleteUser=!1,this.userItemCount=new _.X(0)}ngOnInit(){this.loadUsers()}menu(e){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.popoverCtrl.create({mode:"md",event:e,backdropDismiss:!0,component:a.M})).present()})}loadUsers(){this.userService.getUsers().subscribe(e=>{console.log(e),this.usuarios=e,this.cd.detectChanges()})}accountDetail(e){this.navCtrl.navigateForward(`/tabs/account/account-detail/${e}`)}accountUpdate(e){this.navCtrl.navigateForward(`/tabs/account/account-update/${e}`)}clearUser(){this.selectedUser=null}selectUser(e){this.deleteUser=!0,this.selectedUser===e?this.clearUser():this.selectedUser=e,this.userToolbar(this.usuario)}userToolbar(e){let r=!1;for(let s of this.miranda)if(s.id===e.id){s.amount+=1,r=!0;break}r||(e.amount=1,this.miranda.push(e)),this.userItemCount.next(this.userItemCount.value+1)}removeSelectedUser(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({header:"Warning!!!",message:"You want to delete the user??",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:r=>{console.log("Confirmado Cancelar: blah"),this.backButtonClickUser()}},{text:"OK",handler:()=>{console.log("Confirmado Aceptar"),this.userService.deleteUser(this.selectedUser).subscribe(r=>{this.clearUser(),this.loadUsers(),this.backButtonClickUser(),this.router.navigateByUrl("/",{replaceUrl:!0}),this.uiService.presentToast("Deleted partner")},r=>{console.log(r)})}}]})).present()})}backButtonClickUser(){this.clearUser(),this.deleteUser=!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.F0),t.Y36(t.sBO),t.Y36(n.SH),t.Y36(n.Br),t.Y36(n.Dh),t.Y36(v.F),t.Y36(f.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-account"]],decls:6,vars:3,consts:[[1,"ion-no-border"],["color","warning",4,"ngIf"],["color","primary",4,"ngIf"],[1,"ion-padding"],[3,"ngClass","press",4,"ngFor","ngForOf"],["color","warning"],["slot","start"],[3,"tap"],["color","dark","slot","icon-only","md","arrow-back-sharp"],[1,"miranda-imagen-length"],[1,"miTitulo"],["slot","end"],["color","dark","slot","icon-only","md","trash-sharp"],["color","primary"],["fill","clear",3,"tap"],["md","ellipsis-vertical-sharp","slot","icon-only","color","light"],[3,"ngClass","press"],["button","","lines","none"],[3,"src"],[1,"ion-text-wrap"],["color","primary",3,"tap"],["md","eye-sharp","slot","icon-only","color","light"],["color","tertiary",3,"tap"],["md","create-sharp","slot","icon-only","color","light"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header",0),t.YNc(1,U,12,3,"ion-toolbar",1),t.YNc(2,A,6,0,"ion-toolbar",2),t.qZA(),t.TgZ(3,"ion-content",3)(4,"ion-list"),t.YNc(5,Z,17,9,"ion-item-sliding",4),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.deleteUser),t.xp6(1),t.Q6J("ngIf",!r.deleteUser),t.xp6(3),t.Q6J("ngForOf",r.usuarios))},dependencies:[c.mk,c.sg,c.O5,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Xz,n.Ie,n.u8,n.IK,n.td,n.Q$,n.q_,n.Bs,n.wd,n.sr,c.Ov,c.uU]}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(x),g.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,m.u5,n.Pc,T]}),o})()},9846:(C,h,i)=>{i.d(h,{F:()=>g});var c=i(655),m=i(4650),n=i(5133);let g=(()=>{class u{constructor(a,t){this.alertController=a,this.toastController=t}alertaInformativaLogin(a,t,v){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:a,subHeader:t,message:v,buttons:["OK"]})).present()})}alertaInformativa(a){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({message:a,buttons:["OK"]})).present()})}presentToast(a){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:a,duration:1500,position:"bottom",cssClass:"miToast"})).present()})}}return u.\u0275fac=function(a){return new(a||u)(m.LFG(n.Br),m.LFG(n.yF))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);